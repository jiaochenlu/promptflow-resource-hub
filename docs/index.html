<!DOCTYPE html>
<html>
<head>
    <title>Use Case</title>
    <!-- Add Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        .card {
            height: 200px;
            transition: box-shadow .3s, border .3s;
            cursor: pointer;  
        }
        .card:hover {
            box-shadow: 0 0 11px rgba(33,33,33,.2); 
            border: 1px solid blue;
        }
        .card-title {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .card-text {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body>

<div class="container">
    <h2 class="text-center my-4">Prompt flow Sample Gallery</h2>

    <h3 class="mb-2">Tags filter</h3> <!-- 小标题 -->  
    <div id="tag-filter" class="d-flex flex-wrap mb-4"></div>
    

    <div id="card-container" class="row">
        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="image,chat" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/chat/chat-with-image/README.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Chat With Image">Chat With Image</h5>
                    <p class="card-text" data-toggle="tooltip" title="This flow demonstrates how to create a chatbot that can take image and text as input.">This flow demonstrates how to create a chatbot that can take image and text as input.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/chat/chat-with-image/README.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --> </div> 
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="image" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/describe-image/README.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Describe image with GPT-4V">Describe image with GPT-4V</h5>
                    <p class="card-text" data-toggle="tooltip" title="This flow takes image input, flip it horizontally and uses OpenAI GPT-4V tool to describe it.">This flow takes image input, flip it horizontally and uses OpenAI GPT-4V tool to describe it.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/describe-image/README.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="rag,chat" onclick="window.open('https://github.com/microsoft/promptflow-resource-hub/blob/main/sample_gallery/query_existing_vector_index/Tutorial.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Q&A with RAG on Azure AI Search">Q&A with RAG on Azure AI Search</h5>
                    <p class="card-text" data-toggle="tooltip" title="In this sample, we will go over how to query an existing vector index on Azure AI Search.">In this sample, we will go over how to query an existing vector index on Azure AI Search.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow-resource-hub/blob/main/sample_gallery/query_existing_vector_index/Tutorial.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="rag,chat" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/tutorials/e2e-development/chat-with-pdf.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Chat With PDF">Chat With PDF</h5>
                    <p class="card-text" data-toggle="tooltip" title="This is a simple flow that allow you to ask questions about the content of a PDF file and get answers. You can run the flow with a URL to a PDF file and question as argument. ">This is a simple flow that allow you to ask questions about the content of a PDF file and get answers. You can run the flow with a URL to a PDF file and question as argument. </p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/tutorials/e2e-development/chat-with-pdf.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="agent,semantic kernel" onclick="window.open('https://github.com/microsoft/promptflow-resource-hub/blob/main/sample_gallery/evaluate_semantic_kernel_planner/Tutorial.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Evaluate semantic kernel planner">Evaluate semantic kernel planner</h5>
                    <p class="card-text" data-toggle="tooltip" title="evaluate semantic kernel planner">evaluate semantic kernel planner</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow-resource-hub/blob/main/sample_gallery/evaluate_semantic_kernel_planner/Tutorial.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="database query" onclick="window.open('https://github.com/microsoft/promptflow-resource-hub/blob/main/sample_gallery/database_querying/cosmosdb_postgresql/Tutorial.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Personalized QA with CosmosDB query">Personalized QA with CosmosDB query</h5>
                    <p class="card-text" data-toggle="tooltip" title="This flow builds a personalized financial advice generator that combines user account information quried from the database to allow the LLM to generate personalized answers.">This flow builds a personalized financial advice generator that combines user account information quried from the database to allow the LLM to generate personalized answers.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow-resource-hub/blob/main/sample_gallery/database_querying/cosmosdb_postgresql/Tutorial.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="extraction,chat" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/customer-intent-extraction/README.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Customer Intent Extraction">Customer Intent Extraction</h5>
                    <p class="card-text" data-toggle="tooltip" title="This sample is using OpenAI chat model(ChatGPT/GPT4) to identify customer intent from customer's question.">This sample is using OpenAI chat model(ChatGPT/GPT4) to identify customer intent from customer's question.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/customer-intent-extraction/README.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="agent" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/autonomous-agent/README.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Autonomous Agent">Autonomous Agent</h5>
                    <p class="card-text" data-toggle="tooltip" title="This is a flow showcasing how to construct a AutoGPT agent with promptflow to autonomously figures out how to apply the given functions to solve the goal.">This is a flow showcasing how to construct a AutoGPT agent with promptflow to autonomously figures out how to apply the given functions to solve the goal.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/autonomous-agent/README.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="card mb-4 shadow-sm" data-tags="classification" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/web-classification/README.md', '_blank');">
                <div class="card-body">
                    <h5 class="card-title" data-toggle="tooltip" title="Web classification">Web classification</h5>
                    <p class="card-text" data-toggle="tooltip" title="This is a flow demonstrating multi-class classification with LLM.">This is a flow demonstrating multi-class classification with LLM.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('https://github.com/microsoft/promptflow/blob/main/examples/flows/standard/web-classification/README.md', '_blank');">View</button>
                        </div>
                    </div>
                    <div class="card-tags mt-2"> <!-- 这里将会添加卡片的标签 --></div>
                </div>
            </div>
        </div>

        <!-- Add more cards as needed -->

    </div>
</div>

<!-- Add Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


<!--<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();   
});
</script>
-->


<script>
// 这段代码将在页面加载时直接运行

var initialCards; 

$(window).on('load', function(){


    $('[data-toggle="tooltip"]').tooltip();
    initialCards = $('<div class="row"></div>');  

    var tags = [];  
    $('.card').each(function() {  
        var cardTags = $(this).data('tags');
        
        if (cardTags) {
            cardTags = cardTags.toLowerCase().split(','); 

            var cardTagsElement = $(this).find('.card-tags');  
            cardTagsElement.empty();  

            cardTags.forEach(function(tag) {  
            if (!tags.includes(tag)) {  
                tags.push(tag);  
            }  

            var tagElement = $('<span class="badge badge-secondary mr-1">' + tag + '</span>');  
            cardTagsElement.append(tagElement);  
            });  
        }
    });

    // 存储页面加载时的初始状态  
    initialCards = $('#card-container').clone();  

    tags.forEach(function(tag) {
        var tagElement = $('<button class="btn btn-outline-secondary mr-2 mb-2">' + tag + '</button>');
        tagElement.click(function() {
            $(this).toggleClass('active');
            $(this).hasClass('active') ? $(this).addClass('btn-primary') : $(this).removeClass('btn-primary');
            filterCards();
        });
        $('#tag-filter').append(tagElement);
    });

    function filterCards() {
        var selectedTags = $('#tag-filter .active').map(function() {
            return $(this).text();
        }).get();

         // 将原有的容器替换为新的容器  
        $('#card-container').replaceWith(initialCards.clone());

        if (selectedTags.length === 0) {
            // 如果没有标签被选中，则显示所有卡片
            $('.card').show();
        } else {
            // 如果有标签被选中，先隐藏所有卡片
            $('.card').hide();

            var filteredCardContainer = $('<div id="card-container" class="row"></div>');  

            // 然后显示与选中标签匹配的卡片
            $('.card').each(function() {
                var cardTags = $(this).data('tags');
                if (cardTags) {
                    cardTags = cardTags.toLowerCase().split(',');
                    if (selectedTags.every(function(tag) {
                        return cardTags.includes(tag);
                    })) {
                        var tmpContainer = $('<div class="col-lg-4 col-md-6 col-sm-12"></div>');
                        tmpContainer.append($(this).clone().show());
                        filteredCardContainer.append(tmpContainer.clone().show());  
                    }
                }
            });

            $('#card-container').replaceWith(filteredCardContainer.clone());

        }
    }


});

</script>

</body>
</html>
